{"version":3,"file":"jquery.fitvids.js","sources":["jquery.fitvids.js"],"sourcesContent":["/*jshint browser:true */\n/*!\n * FitVids 1.3\n *\n *\n * Copyright 2017, Chris Coyier + Dave Rupert + Ghost Foundation\n * This is an unofficial release, ported by John O'Nolan\n * Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/\n * Released under the MIT license\n *\n */\n\n(function ($) {\n    \"use strict\";\n\n    $.fn.fitVids = function (options) {\n        var settings = {\n            customSelector: null,\n            ignore: null,\n        };\n\n        if (!document.getElementById(\"fit-vids-style\")) {\n            // appendStyles: https://github.com/toddmotto/fluidvids/blob/master/dist/fluidvids.js\n            var head =\n                document.head || document.getElementsByTagName(\"head\")[0];\n            var css =\n                \".fluid-width-video-container{flex-grow: 1;width:100%;}.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}\";\n            var div = document.createElement(\"div\");\n            div.innerHTML =\n                '<p>x</p><style id=\"fit-vids-style\">' + css + \"</style>\";\n            head.appendChild(div.childNodes[1]);\n        }\n\n        if (options) {\n            $.extend(settings, options);\n        }\n\n        return this.each(function () {\n            var selectors = [\n                'iframe[src*=\"player.vimeo.com\"]',\n                'iframe[src*=\"youtube.com\"]',\n                'iframe[src*=\"youtube-nocookie.com\"]',\n                'iframe[src*=\"kickstarter.com\"][src*=\"video.html\"]',\n                \"object\",\n                \"embed\",\n            ];\n\n            if (settings.customSelector) {\n                selectors.push(settings.customSelector);\n            }\n\n            var ignoreList = \".fitvidsignore\";\n\n            if (settings.ignore) {\n                ignoreList = ignoreList + \", \" + settings.ignore;\n            }\n\n            var $allVideos = $(this).find(selectors.join(\",\"));\n            $allVideos = $allVideos.not(\"object object\"); // SwfObj conflict patch\n            $allVideos = $allVideos.not(ignoreList); // Disable FitVids on this video.\n\n            $allVideos.each(function () {\n                var $this = $(this);\n                if ($this.parents(ignoreList).length > 0) {\n                    return; // Disable FitVids on this video.\n                }\n                if (\n                    (this.tagName.toLowerCase() === \"embed\" &&\n                        $this.parent(\"object\").length) ||\n                    $this.parent(\".fluid-width-video-wrapper\").length\n                ) {\n                    return;\n                }\n                if (\n                    !$this.css(\"height\") &&\n                    !$this.css(\"width\") &&\n                    (isNaN($this.attr(\"height\")) || isNaN($this.attr(\"width\")))\n                ) {\n                    $this.attr(\"height\", 9);\n                    $this.attr(\"width\", 16);\n                }\n                var height =\n                        this.tagName.toLowerCase() === \"object\" ||\n                        ($this.attr(\"height\") &&\n                            !isNaN(parseInt($this.attr(\"height\"), 10)))\n                            ? parseInt($this.attr(\"height\"), 10)\n                            : $this.height(),\n                    width = !isNaN(parseInt($this.attr(\"width\"), 10))\n                        ? parseInt($this.attr(\"width\"), 10)\n                        : $this.width(),\n                    aspectRatio = height / width;\n                if (!$this.attr(\"name\")) {\n                    var videoName = \"fitvid\" + $.fn.fitVids._count;\n                    $this.attr(\"name\", videoName);\n                    $.fn.fitVids._count++;\n                }\n                $this\n                    .wrap(\n                        '<div class=\"fluid-width-video-container\"><div class=\"fluid-width-video-wrapper\"></div></div>',\n                    )\n                    .parent(\".fluid-width-video-wrapper\")\n                    .css(\"padding-top\", aspectRatio * 100 + \"%\");\n                $this.removeAttr(\"height\").removeAttr(\"width\");\n            });\n        });\n    };\n\n    // Internal counter for unique video names.\n    $.fn.fitVids._count = 0;\n\n    // Works with either jQuery or Zepto\n})(window.jQuery || window.Zepto);\n"],"names":["$","fn","fitVids","options","head","div","settings","customSelector","ignore","document","getElementById","getElementsByTagName","createElement","innerHTML","appendChild","childNodes","extend","this","each","selectors","push","ignoreList","$allVideos","find","join","not","aspectRatio","videoName","$this","parents","length","tagName","toLowerCase","parent","css","isNaN","attr","parseInt","height","width","_count","wrap","removeAttr","window","jQuery","Zepto"],"mappings":"CAYA,SAAWA,gBAGPA,EAAEC,GAAGC,QAAU,SAAUC,GACrB,IAOQC,EAIAC,EAXJC,EAAW,CACXC,eAAgB,KAChBC,OAAQ,MAmBZ,OAhBKC,SAASC,eAAe,oBAErBN,EACAK,SAASL,MAAQK,SAASE,qBAAqB,QAAQ,IAGvDN,EAAMI,SAASG,cAAc,QAC7BC,UACA,oUACJT,EAAKU,YAAYT,EAAIU,WAAW,KAGhCZ,GACAH,EAAEgB,OAAOV,EAAUH,GAGhBc,KAAKC,KAAK,WACb,IAAIC,EAAY,CACZ,kCACA,6BACA,sCACA,oDACA,SACA,SAGAb,EAASC,gBACTY,EAAUC,KAAKd,EAASC,gBAG5B,IAAIc,EAAa,iBAEbf,EAASE,SACTa,EAAaA,EAAa,KAAOf,EAASE,QAG1Cc,EAAatB,EAAEiB,MAAMM,KAAKJ,EAAUK,KAAK,OAE7CF,GADAA,EAAaA,EAAWG,IAAI,kBACJA,IAAIJ,IAEjBH,KAAK,WACZ,IA4BIQ,EAEIC,EA9BJC,EAAQ5B,EAAEiB,MACyB,EAAnCW,EAAMC,QAAQR,GAAYS,QAIM,UAA/Bb,KAAKc,QAAQC,eACVJ,EAAMK,OAAO,UAAUH,QAC3BF,EAAMK,OAAO,8BAA8BH,SAK1CF,EAAMM,IAAI,WACVN,EAAMM,IAAI,WACVC,MAAMP,EAAMQ,KAAK,aAAcD,MAAMP,EAAMQ,KAAK,YAEjDR,EAAMQ,KAAK,SAAU,GACrBR,EAAMQ,KAAK,QAAS,KAWpBV,GARmC,WAA/BT,KAAKc,QAAQC,eACZJ,EAAMQ,KAAK,YACPD,MAAME,SAAST,EAAMQ,KAAK,UAAW,KACpCC,SAAST,EAAMQ,KAAK,UAAW,IAC/BR,EAAMU,WACPH,MAAME,SAAST,EAAMQ,KAAK,SAAU,KAEvCR,EAAMW,QADNF,SAAST,EAAMQ,KAAK,SAAU,KAGnCR,EAAMQ,KAAK,UACRT,EAAY,SAAW3B,EAAEC,GAAGC,QAAQsC,OACxCZ,EAAMQ,KAAK,OAAQT,GACnB3B,EAAEC,GAAGC,QAAQsC,UAEjBZ,EACKa,KACG,gGAEHR,OAAO,8BACPC,IAAI,cAA6B,IAAdR,EAAoB,KAC5CE,EAAMc,WAAW,UAAUA,WAAW,eAMlD1C,EAAEC,GAAGC,QAAQsC,OAAS,EAhG1B,CAmGGG,OAAOC,QAAUD,OAAOE"}