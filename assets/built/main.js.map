{"version":3,"file":"main.js","sources":["main.js"],"sourcesContent":["pswp(\n    \".kg-gallery-container\",\n    \".kg-gallery-image\",\n    \".kg-gallery-image\",\n    false,\n    true,\n);\n\nfunction pswp(container, element, trigger, caption, isGallery) {\n    var parseThumbnailElements = function (el) {\n        var items = [],\n            gridEl,\n            linkEl,\n            item;\n\n        el.querySelectorAll(element).forEach(function (v) {\n            gridEl = v;\n            linkEl = gridEl.querySelector(trigger);\n\n            item = {\n                src: isGallery\n                    ? gridEl.querySelector(\"img\").getAttribute(\"src\")\n                    : linkEl.getAttribute(\"href\"),\n                w: 0,\n                h: 0,\n            };\n\n            if (caption && gridEl.querySelector(caption)) {\n                item.title = gridEl.querySelector(caption).innerHTML;\n            }\n\n            items.push(item);\n        });\n\n        return items;\n    };\n\n    var openPhotoSwipe = function (index, galleryElement) {\n        var pswpElement = document.querySelectorAll(\".pswp\")[0],\n            gallery,\n            options,\n            items;\n\n        items = parseThumbnailElements(galleryElement);\n\n        options = {\n            closeOnScroll: false,\n            history: false,\n            index: index,\n            shareEl: false,\n            showAnimationDuration: 0,\n            showHideOpacity: true,\n        };\n\n        gallery = new PhotoSwipe(\n            pswpElement,\n            PhotoSwipeUI_Default,\n            items,\n            options,\n        );\n        gallery.listen(\"gettingData\", function (index, item) {\n            if (item.w < 1 || item.h < 1) {\n                // unknown size\n                var img = new Image();\n                img.onload = function () {\n                    // will get size after load\n                    item.w = this.width; // set image width\n                    item.h = this.height; // set image height\n                    gallery.updateSize(true); // reinit Items\n                };\n                img.src = item.src; // let's download image\n            }\n        });\n        gallery.init();\n    };\n\n    var onThumbnailsClick = function (e) {\n        e.preventDefault();\n\n        var siblings = e.target.closest(container).querySelectorAll(element);\n        var nodes = Array.prototype.slice.call(siblings);\n        var index = nodes.indexOf(e.target.closest(element));\n        var clickedGallery = e.target.closest(container);\n\n        openPhotoSwipe(index, clickedGallery);\n\n        return false;\n    };\n\n    // container = document.querySelector(container);\n    // if (!container) return;\n\n    var triggers = document.querySelectorAll(trigger);\n    triggers.forEach(function (trig) {\n        trig.addEventListener(\"click\", function (e) {\n            onThumbnailsClick(e);\n        });\n    });\n}\n"],"names":["pswp","container","element","trigger","caption","isGallery","onThumbnailsClick","e","preventDefault","gallery","siblings","target","closest","querySelectorAll","index","Array","prototype","slice","call","indexOf","clickedGallery","galleryElement","pswpElement","document","items","parseThumbnailElements","PhotoSwipe","PhotoSwipeUI_Default","closeOnScroll","history","shareEl","showAnimationDuration","showHideOpacity","listen","item","img","w","h","Image","onload","this","width","height","updateSize","src","init","openPhotoSwipe","el","gridEl","forEach","v","linkEl","querySelector","getAttribute","title","innerHTML","push","trig","addEventListener"],"mappings":"AAQA,SAASA,KAAKC,EAAWC,EAASC,EAASC,EAASC,GAoExB,SAApBC,EAA8BC,GAC9BA,EAAEC,iBAEF,IAzBAC,EAyBIC,EAAWH,EAAEI,OAAOC,QAAQX,GAAWY,iBAAiBX,GAExDY,EADQC,MAAMC,UAAUC,MAAMC,KAAKR,GACrBS,QAAQZ,EAAEI,OAAOC,QAAQV,IACvCkB,EAAiBb,EAAEI,OAAOC,QAAQX,GAItC,OAjD2Ba,EA+CZA,EA/CmBO,EA+CZD,EA9ClBE,EAAcC,SAASV,iBAAiB,SAAS,GAKrDW,EAAQC,EAAuBJ,IAW/BZ,EAAU,IAAIiB,WACVJ,EACAK,qBACAH,EAZM,CACNI,eAAe,EACfC,SAAS,EACTf,MAAOA,EACPgB,SAAS,EACTC,sBAAuB,EACvBC,iBAAiB,KASbC,OAAO,cAAe,SAAUnB,EAAOoB,GAC3C,IAEQC,GAFJD,EAAKE,EAAI,GAAKF,EAAKG,EAAI,MAEnBF,EAAM,IAAIG,OACVC,OAAS,WAETL,EAAKE,EAAII,KAAKC,MACdP,EAAKG,EAAIG,KAAKE,OACdjC,EAAQkC,YAAW,IAEvBR,EAAIS,IAAMV,EAAKU,OAGvBnC,EAAQoC,OAWRC,EA3EJ,IAAIrB,EAAyB,SAAUsB,GACnC,IACIC,EAEAd,EAHAV,EAAQ,GAwBZ,OAnBAuB,EAAGlC,iBAAiBX,GAAS+C,QAAQ,SAAUC,GAE3CC,GADAH,EAASE,GACOE,cAAcjD,GAE9B+B,EAAO,CACHU,IAAKvC,EACC2C,EAAOI,cAAc,OAAOC,aAAa,OACzCF,EAAOE,aAAa,QAC1BjB,EAAG,EACHC,EAAG,GAGHjC,GAAW4C,EAAOI,cAAchD,KAChC8B,EAAKoB,MAAQN,EAAOI,cAAchD,GAASmD,WAG/C/B,EAAMgC,KAAKtB,KAGRV,GA0DID,SAASV,iBAAiBV,GAChC8C,QAAQ,SAAUQ,GACvBA,EAAKC,iBAAiB,QAAS,SAAUnD,GACrCD,EAAkBC,OA/F9BP,KACI,wBACA,oBACA,qBACA,GACA"}